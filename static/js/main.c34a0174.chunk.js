(this["webpackJsonpnxt-watch"]=this["webpackJsonpnxt-watch"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),i=n(21),c=n.n(i),r=n(5),o=n(41),l=n(7),d=n(8),h=n(10),u=n(9),j=n(4),b=n(13),m=n.n(b),p=n(18),g=n(12),v=n.n(g),x=s.a.createContext({isDarkTheme:!1,toggleTheme:function(){}}),O=(n(48),n(1)),f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",isShowError:!1,errorMsg:"",isChecked:!1},e.onSubmitSuccess=function(t){var n=e.props.history;v.a.set("jwt_token",t,{expires:30}),n.replace("/")},e.onSubmitFailure=function(t){e.setState({isShowError:!0,errorMsg:t})},e.onSubmitForm=function(){var t=Object(p.a)(m.a.mark((function t(n){var a,s,i,c,r,o,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=e.state,s=a.username,i=a.password,c={username:s,password:i},"https://apis.ccbp.in/login",r={method:"POST",body:JSON.stringify(c)},t.next=7,fetch("https://apis.ccbp.in/login",r);case 7:return o=t.sent,t.next=10,o.json();case 10:l=t.sent,o.ok?e.onSubmitSuccess(l.jwt_token):e.onSubmitFailure(l.error_msg);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeUsername=function(t){e.setState({username:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e.onChangeChecked=function(){e.setState((function(e){return{isChecked:!e.isChecked}}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password,s=t.isShowError,i=t.errorMsg,c=t.isChecked;return void 0!==v.a.get("jwt_token")?Object(O.jsx)(j.a,{to:"/"}):Object(O.jsx)(x.Consumer,{children:function(t){var r=t.isDarkTheme?"https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-dark-theme-img.png":"https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-light-theme-img.png";return Object(O.jsx)("div",{className:"bg-container",children:Object(O.jsxs)("div",{className:"card-container",children:[Object(O.jsx)("img",{src:r,width:"100px",alt:"website logo",className:"logo-img"}),Object(O.jsxs)("form",{className:"submit-form",onSubmit:e.onSubmitForm,children:[Object(O.jsx)("label",{htmlFor:"username",className:"label-name",children:"USERNAME"}),Object(O.jsx)("input",{className:"input-user",type:"text",id:"username",value:n,onChange:e.onChangeUsername,placeholder:"Username"}),Object(O.jsx)("label",{htmlFor:"password",className:"label-name",children:"PASSWORD"}),Object(O.jsx)("input",{className:"input-user",type:c?"text":"password",id:"password",value:a,onChange:e.onChangePassword,placeholder:"Password"}),Object(O.jsxs)("div",{className:"show-password-card",children:[Object(O.jsx)("input",{className:"input-user",type:"checkbox",id:"showPassword",checked:c,onChange:e.onChangeChecked}),Object(O.jsx)("label",{htmlFor:"showPassword",className:"password-name",children:"Show Password"})]}),Object(O.jsx)("button",{type:"submit",style:{color:"#ffffff"},className:"login-button",children:"Login"}),s&&Object(O.jsxs)("p",{className:"error-msg",children:["*",i]})]})]})})}})}}]),n}(a.Component),N=n(19),k=n.n(N),w=n(38),S=n(37),C=(n(72),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).onClickLogout=function(){v.a.remove("jwt_token"),e.props.history.replace("/login")},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)(x.Consumer,{children:function(t){var n=t.isDarkTheme,a=t.toggleTheme;return Object(O.jsxs)("div",{className:n?"header-dark-container":"header-light-container",children:[Object(O.jsx)(r.b,{to:"/",children:Object(O.jsx)("img",{src:n?"https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-dark-theme-img.png":"https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-light-theme-img.png",width:"100px",alt:"website logo",className:"logo-img"})}),Object(O.jsxs)("div",{className:"theme-logout-card",children:[Object(O.jsx)("button",{onClick:a,className:"theme-btn","data-testid":"theme",children:Object(O.jsx)("img",{src:n?"https://assets.ccbp.in/frontend/react-js/light-theme-img.png":"https://assets.ccbp.in/frontend/react-js/dark-theme-img.png",width:"30px",alt:"theme"})}),Object(O.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-profile-img.png",alt:"profile",width:"30px"}),Object(O.jsx)("div",{className:"popup-container",children:Object(O.jsx)(S.a,{modal:!0,trigger:Object(O.jsx)("button",{className:n?"dark-btn":"light-btn",type:"button",onClick:e.onClickLogout,children:"Logout"}),className:"popup-content",children:function(t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:n?"popup-content-light":"popup-content-dark",children:[Object(O.jsx)("p",{className:n?"dark-popup":"light-popup",children:"Are you sure, you want to logout?"}),Object(O.jsxs)("div",{className:"popup-btn",children:[Object(O.jsx)("button",{type:"button",className:n?"cancel-btn-dark":"cancel-btn-light",onClick:function(){return t()},children:"Cancel"}),Object(O.jsx)("button",{type:"button",className:"confirm-btn",onClick:e.onClickLogout,children:"Confirm"})]})]})})}})})]})]})}})}}]),n}(a.Component)),y=Object(j.g)(C),V=n(22),T=n(23),_=n(24),D=n(25),A=(n(73),function(){return Object(O.jsx)(x.Consumer,{children:function(e){var t=e.isDarkTheme;return Object(O.jsxs)("div",{className:t?"dark-sidebar":"light-sidebar",children:[Object(O.jsxs)("ul",{className:"sidebar-menu",children:[Object(O.jsxs)(r.b,{to:"/",className:"icons-text",children:[Object(O.jsx)(V.b,{size:20,color:"#64748b"}),Object(O.jsx)("li",{className:t?"light-text":"dark-text",children:"Home"})]}),Object(O.jsxs)(r.b,{to:"/trending",className:"icons-text",children:[Object(O.jsx)(T.a,{size:20,color:"#64748b"}),Object(O.jsx)("li",{className:t?"light-text":"dark-text",children:"Trending"})]}),Object(O.jsxs)(r.b,{to:"/gaming",className:"icons-text",children:[Object(O.jsx)(_.a,{size:20,color:"#64748b"}),Object(O.jsx)("li",{className:t?"light-text":"dark-text",children:"Gaming"})]}),Object(O.jsxs)(r.b,{to:"/saved-videos",className:"icons-text",children:[Object(O.jsx)(D.b,{size:20,color:"#64748b"}),Object(O.jsx)("li",{className:t?"light-text":"dark-text",children:"Saved videos"})]})]}),Object(O.jsxs)("div",{className:"contact-container",children:[Object(O.jsx)("p",{className:t?"light-head":"dark-head",children:"CONTACT US"}),Object(O.jsxs)("div",{className:"icons-link",children:[Object(O.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-facebook-logo-img.png",alt:"facebook logo",width:"20"}),Object(O.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-twitter-logo-img.png",alt:"twitter logo",width:"20"}),Object(O.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-linked-in-logo-img.png",alt:"linked in logo",width:"20"})]}),Object(O.jsx)("p",{className:t?"light-paragraph":"dark-paragraph",children:"Enjoy! Now to see your channels and recommendations!"})]})]})}})}),I=(n(74),function(e){var t=e.videoDetails,n=t.id,a=t.title,s=t.thumbnailUrl,i=t.channel,c=t.viewCount,o=t.publishedAt;return Object(O.jsx)(x.Consumer,{children:function(e){var t=e.isDarkTheme;return Object(O.jsx)(r.b,{to:"/videos/".concat(n),className:"video-card-link",children:Object(O.jsxs)("li",{className:t?"video-card-dark":"video-card-light",children:[Object(O.jsx)("img",{src:s,alt:"video thumbnail",className:"video-card-img"}),Object(O.jsxs)("div",{className:"video-info",children:[Object(O.jsx)("img",{src:i.profileImageUrl,alt:"channel logo",className:"channel-logo"}),Object(O.jsxs)("div",{className:"video-card-text",children:[Object(O.jsx)("p",{className:t?"dark-title":"light-title",children:a}),Object(O.jsx)("p",{className:"video-name",children:i.name}),Object(O.jsxs)("p",{className:"views-published",children:[c," views . ",o]})]})]})]})})}})}),L=(n(75),function(e){var t=e.onClickCloseBtn,n=e.dataTestId;return Object(O.jsxs)("div",{className:"banner-container","data-testid":n,children:[Object(O.jsxs)("div",{className:"banner-text",children:[Object(O.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-light-theme-img.png",width:"130px",alt:"nxt watch logo"}),Object(O.jsx)("p",{children:"Buy Nxt Watch Premium prepaid plans with UPI"}),Object(O.jsx)("button",{className:"get-btn",children:"GET IT NOW"})]}),Object(O.jsx)("button",{className:"cross-btn",onClick:t,"data-testid":"close",children:Object(O.jsx)(V.a,{size:24})})]})}),F=(n(76),"INITIAL"),U="IN_PROGRESS",R="SUCCESS",E="FAILURE",P=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isShowedBanner:!0,videoList:[],searchInput:"",apiStatus:F},e.getVideos=Object(p.a)(m.a.mark((function t(){var n,a,s,i,c,r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:U}),n=e.state.searchInput,a=v.a.get("jwt_token"),s="https://apis.ccbp.in/videos/all?search=".concat(n),i={method:"GET",headers:{Authorization:"Bearer ".concat(a)}},t.next=7,fetch(s,i);case 7:if(!0!==(c=t.sent).ok){t.next=16;break}return t.next=11,c.json();case 11:r=t.sent,o=r.videos.map((function(e){return{id:e.id,title:e.title,thumbnailUrl:e.thumbnail_url,channel:{name:e.channel.name,profileImageUrl:e.channel.profile_image_url},viewCount:e.view_count,publishedAt:e.published_at}})),e.setState({videoList:o,apiStatus:R}),t.next=17;break;case 16:e.setState({apiStatus:E});case 17:case"end":return t.stop()}}),t)}))),e.renderLoadingView=function(){return Object(O.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(O.jsx)(k.a,{type:"ThreeDots",color:"#ffffff",height:"50",width:"50"})})},e.renderFailureView=function(t){return Object(O.jsxs)("div",{className:"faillure-container",children:[Object(O.jsx)("img",{src:t?"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-dark-theme-img.png":"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-light-theme-img.png",alt:"failure view",width:200}),Object(O.jsx)("h1",{className:t?"dark-failure-head":"light-failure-head",children:"Oops! Something Went Wrong"}),Object(O.jsx)("p",{className:"failure-paragraph",children:"We are having some trouble to complete your request."}),Object(O.jsx)("p",{className:"failure-paragraph",children:"Please try again."}),Object(O.jsx)("button",{type:"button",className:"Retry-btn",onClick:e.getVideos,children:"Retry"})]})},e.renderNoSearchResult=function(t){return Object(O.jsxs)("div",{className:"noSearch-container",children:[Object(O.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-no-search-results-img.png",alt:"no videos",width:200}),Object(O.jsx)("h1",{className:t?"light-failure-head":"dark-failure-head",children:"No Search Results Found"}),Object(O.jsx)("p",{className:"failure-paragraph",children:"Try different key words or remove search filter"}),Object(O.jsx)("button",{type:"button",className:"Retry-btn",onClick:e.getVideos,children:"Retry"})]})},e.renderVideoList=function(t){var n=e.state.videoList;return 0===n.length?e.renderNoSearchResult(t):Object(O.jsx)("ul",{className:"videos-list-container",children:n.map((function(e){return Object(O.jsx)(I,{videoDetails:e},e.id)}))})},e.renderHomeDetails=function(t){switch(e.state.apiStatus){case U:return e.renderLoadingView();case R:return e.renderVideoList(t);case E:return e.renderFailureView(t);default:return null}},e.handleCloseButton=function(){e.setState({isShowedBanner:!1})},e.onChangeSearchInput=function(t){e.setState({searchInput:t.target.value})},e.onClickSearch=function(){e.getVideos()},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getVideos()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isShowedBanner,a=t.searchInput;return Object(O.jsx)(x.Consumer,{children:function(t){var s=t.isDarkTheme;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"home-main-container",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:s?"home-content-dark":"home-content-light","data-testid":"home",children:[n&&Object(O.jsx)(L,{"data-testid":"banner",onClickCloseBtn:e.handleCloseButton}),Object(O.jsxs)("div",{className:"search-bar-container",children:[Object(O.jsx)("input",{type:"search",className:"search-input",placeholder:"Search",value:a,onChange:e.onChangeSearchInput}),Object(O.jsx)("button",{className:"search-icon-btn",type:"button","data-testid":"searchButton",onClick:e.onClickSearch,children:Object(O.jsx)(w.a,{size:16})})]}),e.renderHomeDetails(s)]})]})]})}})}}]),n}(a.Component),W=n(39),B=(n(77),"INITIAL"),G="IN_PROGRESS",z="SUCCESS",M="FAILURE",q=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={trendingList:[],apiStatus:B},e.getTrendingVideos=Object(p.a)(m.a.mark((function t(){var n,a,s,i,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:G}),n=v.a.get("jwt_token"),"https://apis.ccbp.in/videos/trending",a={headers:{Authorization:"Bearer ".concat(n)},method:"GET"},t.next=6,fetch("https://apis.ccbp.in/videos/trending",a);case 6:if(!(s=t.sent).ok){t.next=15;break}return t.next=10,s.json();case 10:i=t.sent,c=i.videos.map((function(e){return{id:e.id,title:e.title,thumbnailUrl:e.thumbnail_url,channel:{name:e.channel.name,profileImageUrl:e.channel.profile_image_url},viewCount:e.view_count,publishedAt:e.published_at}})),e.setState({trendingList:c,apiStatus:z}),t.next=16;break;case 15:e.setState({apiStatus:M});case 16:case"end":return t.stop()}}),t)}))),e.renderLoaderView=function(){return Object(O.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(O.jsx)(k.a,{type:"ThreeDots",color:"#0b69ff",height:50,width:50})})},e.renderFailureView=function(t){return Object(O.jsxs)("div",{className:"faillure-container",children:[Object(O.jsx)("img",{src:t?"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-dark-theme-img.png":"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-light-theme-img.png",alt:"failure view",className:"failure-img"}),Object(O.jsx)("h1",{className:t?"dark-failure-head":"light-failure-head",children:"Oops! Something Went Wrong"}),Object(O.jsx)("p",{className:"failure-paragraph",children:"We are having some trouble to complete your request. Please try again."}),Object(O.jsx)("button",{className:"Retry-btn",onClick:e.getTrendingVideos,children:"Retry"})]})},e.renderSuccessView=function(t){var n=e.state.trendingList;return Object(O.jsx)("ul",{className:"trending-videos-list",children:n.map((function(e){return Object(O.jsx)(r.b,{to:"/videos/".concat(e.id),className:"trending-link-item",children:Object(O.jsxs)("li",{className:"trending-video-item",children:[Object(O.jsx)("img",{src:e.thumbnailUrl,alt:"video thumbnail",className:"trending-thumbnail"}),Object(O.jsxs)("div",{className:"trending-video-details",children:[Object(O.jsx)("p",{className:t?"dark-title":"light-title",children:e.title}),Object(O.jsx)("p",{className:"trending-channel",children:e.channel.name}),Object(O.jsxs)("p",{className:"trending-views",children:[e.viewCount," views \u2022 ",e.publishedAt]})]})]},e.id)},e.id)}))})},e.renderContent=function(t){switch(e.state.apiStatus){case G:return e.renderLoaderView();case z:return e.renderSuccessView(t);case M:return e.renderFailureView(t);default:return null}},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getTrendingVideos()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(x.Consumer,{children:function(t){var n=t.isDarkTheme,a=n?"home-content-dark":"home-content-light";return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"home-main-container",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:a,"data-testid":"trending",children:[Object(O.jsxs)("div",{className:"trending-banner",children:[Object(O.jsx)(W.a,{className:"trending-icon"}),Object(O.jsx)("h1",{className:n?"trend-heading-dark":"trend-heading-light",children:"Trending"})]}),e.renderContent(n)]})]})]})}})}}]),n}(a.Component),H=(n(78),"INITIAL"),J="IN_PROGRESS",Y="SUCCESS",K="FAILURE",Q=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={gamingVideos:[],apiStatus:H},e.getGamingVideos=Object(p.a)(m.a.mark((function t(){var n,a,s,i,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:J}),n=v.a.get("jwt_token"),"https://apis.ccbp.in/videos/gaming",a={headers:{Authorization:"Bearer ".concat(n)},method:"GET"},t.next=6,fetch("https://apis.ccbp.in/videos/gaming",a);case 6:if(!(s=t.sent).ok){t.next=15;break}return t.next=10,s.json();case 10:i=t.sent,c=i.videos.map((function(e){return{id:e.id,title:e.title,thumbnailUrl:e.thumbnail_url,viewCount:e.view_count}})),e.setState({gamingVideos:c,apiStatus:Y}),t.next=16;break;case 15:e.setState({apiStatus:K});case 16:case"end":return t.stop()}}),t)}))),e.renderLoaderView=function(){return Object(O.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(O.jsx)(k.a,{type:"ThreeDots",color:"#0b69ff",height:50,width:50})})},e.renderFailureView=function(t){return Object(O.jsxs)("div",{className:"faillure-container",children:[Object(O.jsx)("img",{src:t?"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-dark-theme-img.png":"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-light-theme-img.png",alt:"failure view",className:"failure-img"}),Object(O.jsx)("h1",{className:t?"dark-failure-head":"light-failure-head",children:"Oops! Something Went Wrong"}),Object(O.jsx)("p",{className:"failure-paragraph",children:"We are having some trouble to complete your request. Please try again."}),Object(O.jsx)("button",{className:"Retry-btn",onClick:e.getGamingVideos,children:"Retry"})]})},e.renderSuccessView=function(t){var n=e.state.gamingVideos;return Object(O.jsx)("ul",{className:"gaming-videos-list",children:n.map((function(e){return Object(O.jsx)(r.b,{to:"/videos/".concat(e.id),className:"gaming-link-item",children:Object(O.jsxs)("li",{className:"gaming-video-card",children:[Object(O.jsx)("img",{src:e.thumbnailUrl,alt:"video thumbnail",className:"gaming-thumbnail"}),Object(O.jsx)("p",{className:t?"dark-title":"light-title",children:e.title}),Object(O.jsxs)("p",{className:"gaming-views",children:[e.viewCount," Watching Worldwide"]})]})},e.id)}))})},e.renderContent=function(t){switch(e.state.apiStatus){case J:return e.renderLoaderView();case Y:return e.renderSuccessView(t);case K:return e.renderFailureView(t);default:return null}},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getGamingVideos()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(x.Consumer,{children:function(t){var n=t.isDarkTheme,a=n?"home-content-dark":"home-content-light";return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"home-main-container",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:a,"data-testid":"gaming",children:[Object(O.jsxs)("div",{className:"gaming-banner",children:[Object(O.jsx)(_.a,{className:"gaming-icon"}),Object(O.jsx)("h1",{className:n?"trend-heading-light":"trend-heading-dark",children:"Gaming"})]}),e.renderContent(n)]})]})]})}})}}]),n}(a.Component),X=n(40),Z=n.n(X),$=n(30),ee=s.a.createContext({savedVideos:[],toggleSaveVideo:function(){}}),te=(n(97),"INITIAL"),ne="IN_PROGRESS",ae="SUCCESS",se="FAILURE",ie=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={videoData:{},likeActive:!1,dislikeActive:!1,apiStatus:te},e.getVideoDetails=Object(p.a)(m.a.mark((function t(){var n,a,s,i,c,r,o,l,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:ne}),n=e.props.match,a=n.params,s=a.id,i=v.a.get("jwt_token"),c="https://apis.ccbp.in/videos/".concat(s),r={method:"GET",headers:{Authorization:"Bearer ".concat(i)}},t.next=9,fetch(c,r);case 9:if(!(o=t.sent).ok){t.next=18;break}return t.next=13,o.json();case 13:l=t.sent,d={id:l.video_details.id,title:l.video_details.title,videoUrl:l.video_details.video_url,thumbnailUrl:l.video_details.thumbnail_url,channel:{name:l.video_details.channel.name,profileImageUrl:l.video_details.channel.profile_image_url,subscriberCount:l.video_details.channel.subscriber_count},viewCount:l.video_details.view_count,publishedAt:l.video_details.published_at,description:l.video_details.description},e.setState({videoData:d,apiStatus:ae}),t.next=19;break;case 18:e.setState({apiStatus:se});case 19:case"end":return t.stop()}}),t)}))),e.renderLoadingView=function(){return Object(O.jsx)("div",{className:"loader-container","data-testid":"loader",children:Object(O.jsx)(k.a,{type:"ThreeDots",color:"#ffffff",height:"50",width:"50"})})},e.renderFailureView=function(t){return Object(O.jsxs)("div",{className:"faillure-container",children:[Object(O.jsx)("img",{src:t?"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-dark-theme-img.png":"https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-light-theme-img.png",alt:"failure view",width:200}),Object(O.jsx)("h1",{className:t?"dark-failure-head":"light-failure-head",children:"Oops! Something Went Wrong"}),Object(O.jsx)("p",{className:"failure-paragraph",children:"We are having some trouble to complete your request."}),Object(O.jsx)("p",{className:"failure-paragraph",children:"Please try again."}),Object(O.jsx)("button",{type:"button",className:"Retry-btn",onClick:e.getVideoDetails,children:"Retry"})]})},e.onClickLike=function(){e.setState((function(e){return{likeActive:!e.likeActive,dislikeActive:!1}}))},e.onClickDislike=function(){e.setState((function(e){return{dislikeActive:!e.dislikeActive,likeActive:!1}}))},e.renderVideoDetails=function(t){var n=e.state,a=n.videoData,s=n.likeActive,i=n.dislikeActive,c=a.title,r=a.channel,o=a.videoUrl,l=a.viewCount,d=a.publishedAt,h=a.description;return Object(O.jsx)(ee.Consumer,{children:function(n){var u=n.savedVideos,j=n.toggleSaveVideo,b=u.some((function(e){return e.id===a.id}));return Object(O.jsxs)("div",{className:t?"video-details-dark-container":"video-details-light-container","data-testid":"videoItemDetails",children:[Object(O.jsx)(Z.a,{url:o,className:"react-player",width:"100%",height:"360px",controls:!0}),Object(O.jsx)("p",{className:t?"dark-title":"light-title",children:c}),Object(O.jsxs)("div",{className:"views-likes-save",children:[Object(O.jsxs)("p",{className:t?"light-views":"dark-views",children:[l," views . ",d]}),Object(O.jsxs)("div",{className:"likes-saves",children:[Object(O.jsxs)("button",{type:"button",className:"".concat(t?"light-buttons":"dark-buttons"," ").concat(s?"active-button":"in-active-button"),onClick:e.onClickLike,children:[Object(O.jsx)($.b,{})," Like"]}),Object(O.jsxs)("button",{type:"button",className:"".concat(t?"light-buttons":"dark-buttons"," ").concat(i?"active-button":"in-active-button"),onClick:e.onClickDislike,children:[Object(O.jsx)($.a,{})," Dislike"]}),Object(O.jsxs)("button",{type:"button",className:"".concat(t?"light-buttons":"dark-buttons"," ").concat(b?"active-button":"in-active-button"),onClick:function(){j(a)},children:[Object(O.jsx)(D.a,{})," ",b?"Saved":"Save"]})]})]}),r&&Object(O.jsxs)("div",{className:"channel-info",children:[Object(O.jsx)("img",{src:r.profileImageUrl,alt:"channel logo",className:"channel-logo"}),Object(O.jsxs)("div",{className:"channel-info-text",children:[Object(O.jsx)("p",{className:t?"light-description":"dark-description",children:r.name}),Object(O.jsxs)("p",{className:t?"light-subscribe":"dark-subscribe",children:[r.subscriberCount," subscribers"]}),Object(O.jsx)("p",{className:t?"light-description":"dark-description",children:h})]})]})]})}})},e.renderVideoContent=function(t){switch(e.state.apiStatus){case ne:return e.renderLoadingView();case ae:return e.renderVideoDetails(t);case se:return e.renderFailureView(t);default:return null}},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getVideoDetails()}},{key:"render",value:function(){var e=this;return Object(O.jsx)(x.Consumer,{children:function(t){var n=t.isDarkTheme;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"video-details-main-container",children:[Object(O.jsx)(A,{}),e.renderVideoContent(n)]})]})}})}}]),n}(a.Component),ce=(n(98),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).renderNoSavedVideos=function(e){return Object(O.jsxs)("div",{className:"no-saved-container",children:[Object(O.jsx)("img",{src:"https://assets.ccbp.in/frontend/react-js/nxt-watch-no-saved-videos-img.png",alt:"no saved videos",className:"no-saved-img"}),Object(O.jsx)("h1",{className:e?"dark-title":"light-title",children:"No saved videos found"}),Object(O.jsx)("p",{className:"no-saved-description",children:"You can save your videos while watching them"})]})},e.renderSavedVideosList=function(e,t){return Object(O.jsx)("ul",{className:"saved-videos-list",children:e.map((function(e){return Object(O.jsx)(r.b,{to:"/videos/".concat(e.id),className:"saved-video-link",children:Object(O.jsxs)("li",{className:"saved-video-item",children:[Object(O.jsx)("img",{src:e.thumbnailUrl,alt:"video thumbnail",className:"saved-thumbnail"}),Object(O.jsxs)("div",{className:"saved-video-details",children:[Object(O.jsx)("p",{className:t?"dark-title":"light-title",children:e.title}),Object(O.jsx)("p",{className:"saved-channel",children:e.channel.name}),Object(O.jsxs)("p",{className:"saved-channel",children:[e.viewCount," views \u2022 ",e.publishedAt]})]})]})},e.id)}))})},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)(x.Consumer,{children:function(t){var n=t.isDarkTheme;return Object(O.jsx)(ee.Consumer,{children:function(t){var a=t.savedVideos;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"saved-main-container",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:n?"saved-content-dark":"saved-content-light","data-testid":"savedVideos",children:[Object(O.jsxs)("div",{className:"saved-heading-container",children:[Object(O.jsx)(T.a,{className:"saved-icon"}),Object(O.jsx)("h1",{className:"saved-heading",children:"Saved Videos"})]}),0===a.length?e.renderNoSavedVideos(n):e.renderSavedVideosList(a,n)]})]})]})}})}})}}]),n}(a.Component)),re=(n(99),function(){return Object(O.jsx)(x.Consumer,{children:function(e){var t=e.isDarkTheme;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{}),Object(O.jsxs)("div",{className:"not-found-main-container",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:t?"dark-not-found":"light-not-found",children:[Object(O.jsx)("img",{src:t?"https://assets.ccbp.in/frontend/react-js/nxt-watch-not-found-dark-theme-img.png":"https://assets.ccbp.in/frontend/react-js/nxt-watch-not-found-light-theme-img.png",alt:"not found",className:"not-found"}),Object(O.jsx)("h1",{className:t?"light-found":"dark-found",children:"Page Not Found"}),Object(O.jsx)("p",{className:t?"light-para":"dark-para",children:"We are sorry, the page you requested could not be found."})]})]})]})}})}),oe=n(42),le=function(e){return void 0===v.a.get("jwt_token")?Object(O.jsx)(j.a,{to:"/login"}):Object(O.jsx)(j.b,Object(oe.a)({},e))},de=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isDarkTheme:!1,savedVideos:[]},e.toggleSaveVideo=function(t){e.setState((function(e){return{savedVideos:e.savedVideos.some((function(e){return e.id===t.id}))?e.savedVideos.filter((function(e){return e.id!==t.id})):[].concat(Object(o.a)(e.savedVideos),[t])}}))},e.toggleTheme=function(){e.setState((function(e){return{isDarkTheme:!e.isDarkTheme}}))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.isDarkTheme,n=e.savedVideos;return Object(O.jsx)(ee.Provider,{value:{savedVideos:n,toggleSaveVideo:this.toggleSaveVideo},children:Object(O.jsx)(x.Provider,{value:{isDarkTheme:t,toggleTheme:this.toggleTheme},children:Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{exact:!0,path:"/login",component:f}),Object(O.jsx)(le,{exact:!0,path:"/",component:P}),Object(O.jsx)(le,{exact:!0,path:"/trending",component:q}),Object(O.jsx)(le,{exact:!0,path:"/gaming",component:Q}),Object(O.jsx)(le,{exact:!0,path:"/videos/:id",component:ie}),Object(O.jsx)(le,{exact:!0,path:"/saved-videos",component:ce}),Object(O.jsx)(j.b,{path:"/not-found",component:re}),Object(O.jsx)(j.a,{to:"/not-found"})]})})})})}}]),n}(a.Component);c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(de,{})})}),document.getElementById("root"))},48:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.c34a0174.chunk.js.map